<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <title>基本信息</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/plugins/font-awesome-4.7.0/css/font-awesome.min.css" media="all">
    <link rel="stylesheet" type="text/css" href="layui/css/layui.css" media="all">
    <link rel="stylesheet" type="text/css" href="css/main.css" media="all">
    <link rel="stylesheet" type="text/css" href="layui/layui_exts/layui_ext/dtree/dtree.css">
    <link rel="stylesheet" type="text/css" href="layui/layui_exts/layui_ext/dtree/font/dtreefont.css">
    <style>
        .layui-form-label {
            width: 130px;
        }
         .layui-input{
             border:1.5px solid #74d2e7;
         }
        .select-test{position: absolute;padding-left:-10px; max-height: 500px;height: 350px;overflow: auto;width: 240px;z-index: 123;display: none;border:1px solid silver;top: 42px;}

       /* .layui-form-item {
            margin: 0px;
        }
        .layui-input-inline {
            margin: 0px;

        }
        .layui-form-label {
            padding:2px 0px;
            width: 60px;
            !* line-height: 24px; *!
            background: #74d2e7;

            !*font-size: 15px;*!
        }
        .layui-input {
            width: 80%;
            background: #74d2e7;
        }*/
        /*.select-test{position: absolute;max-height: 500px;height: 350px;overflow: auto;width: 235px;z-index: 123;display: none;border:1px solid silver;top: 42px;}
        .layui-show{display: block!important;}*/
    </style>
</head>
<body>
<script type="text/javascript" src="layui/layui.js" charset="utf-8"></script>
<script type="text/javascript" src="js/main.js" charset="utf-8"></script>
<script type="text/javascript" src="js/myJs.js" charset="utf-8"></script>
<script type="text/javascript" src="js/plugins/jquery-3.3.1.min.js"></script>
<div class="layui-form timo-compile">
    <!--添加表单元素-->
    <form class="layui-form" id="form">

        <div class="layui-form-item">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input class="layui-input"  type="text" name="pName"  id="pName" disabled="true">
            </div>
            <label class="layui-form-label">性别 </label>
            <div class="layui-input-inline ">
                <select id="pSex" name="pSex">
                    <option></option>
                    <option>男</option>
                    <option>女</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >出生日期</label>
            <div class="layui-input-inline">
                <input class="layui-input"  type="text" name="PBDate" disabled="true" >
            </div>
            <label class="layui-form-label" >民族</label>
            <div class="layui-input-inline"  >
                <select id="pNation" name="pNation" >
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >婚姻状况</label>
            <div class="layui-input-inline">
                <select id="pMarriage" name="pMarriage" >
                    <option></option>
                    <option>男</option>
                    <option>女</option>
                </select>
            </div>
            <label class="layui-form-label" >国别(地区)</label>
            <div class="layui-input-inline">
                <select id="pNationality" name="pNationality" >

                </select>
            </div>
        </div>
        <div class="layui-form-item ">
            <label class="layui-form-label" >证件名称</label>
            <div class="layui-input-inline">
                <select id="pPapers" name="pPapers" >
                    <option></option>
                    <option>男</option>
                    <option>女</option>
                </select>
            </div>
            <label class="layui-form-label" >证件号码</label>
            <div class="layui-input-inline">
                <input class="layui-input"  type="text" name="pIdNumber"  id="pIdNumber" disabled="true" >
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >政治面貌</label>
            <div class="layui-input-inline">
                <select id="pPStatus" name="pPStatus" >

                    <option>党员</option>
                    <option>群众</option>
                </select>
            </div>
            <label class="layui-form-label" >入党日期</label>
            <div class="layui-input-inline">
                <input type="text" id="pJpDate" name="pJpDate" placeholder="入党时间" readonly="" class="layui-input test-item"
                       lay-verify="required" >
            </div>
        </div>
        <div class="layui-form-item">
        <label class="layui-form-label" >专业技术职称</label>
        <div class="layui-input-inline">
            <select id="pPTitle" name="pPTitle" >
                <option>讲师</option>
                <option>教授</option>
            </select>
        </div>
            <label class="layui-form-label" >联系电话</label>
            <div class="layui-input-inline">
                <input id="pCNumber" class="layui-input"  type="text" name="pCNumber" disabled="true">
            </div>
    </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >在职工作单位</label>
            <div class="layui-input-inline">
                <input id="dName" class="layui-input"  type="text" name="dName" disabled="true"  >
            </div>
            <label class="layui-form-label" >在职单位地址</label>
            <div class="layui-input-inline">
                <input id="pUnitAddress" class="layui-input"  type="text" name="pUnitAddress" disabled="true"  >
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-inline">
                <input id="pPNumber" class="layui-input"  type="text" name="pPNumber" disabled="true"  >
            </div>
            <label class="layui-form-label" >电子邮件</label>
            <div class="layui-input-inline">
                <input id="pEmail" class="layui-input"  type="text" name="pEmail" disabled="true" >
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >出生城市</label>
                <div class="layui-input-inline">
                    <div class="layui-unselect layui-form-select" id="smenu">
                        <input type="text" name="pBCity" id="pBCity" placeholder="请选择" readonly="" class="layui-input" lay-verify="required">
                        <i class="layui-edge"></i>
                    </div>
                    <div class="layui-card select-test" id="smtest">
                        <div class="layui-card-body">
                            <div id="smDiv"><ul id="smTree" class="dtree" data-id="10002"></ul></div>
                        </div>
                    </div>
                </div>
            <label class="layui-form-label" >现户籍省份</label>
            <div class="layui-input-inline">
                <div class="layui-unselect layui-form-select" id="spmenu" >
                    <input type="text"  name="pChrCity" id="pChrCity"  placeholder="请选择" readonly="" class="layui-input">
                    <i class="layui-edge"></i>
                </div>
                <div class="layui-card select-test" id="spmtest">
                    <div class="layui-card-body">
                        <div id="toolbarDiv"><ul id="spmTree" class="dtree" data-id="10002"></ul></div>
                    </div>
                </div>
            </div>
           <!-- <label class="layui-form-label" >出生城市</label>
            <div class="layui-input-inline">
                <select id="pSex" name="pSex">
                    <option>太原市</option>
                    <option>晋中市</option>
                </select>
            </div>-->
        </div>

            <!--<label class="layui-form-label" >现户籍城市</label>
            <div class="layui-input-inline">
                <select id="pSex" name="pSex" >
                    <option>太原市</option>
                </select>
            </div>-->

        <div class="layui-form-item">
            <label class="layui-form-label">籍贯</label>
            <div class="layui-input-inline">
                <select id="pNativePlace" name="pNativePlace"  >
                    <option>--请选择--</option>
                    <option>山西省</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >现户口所在详细地址</label>
            <div class="layui-input-inline">
                <input id="pPcdAddress" class="layui-input"  type="text" name="pPcdAddress" disabled="true" style="width:650px;" >
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >现户籍注册派出所(请填写派出所，不要填分局)</label>
            <div class="layui-input-inline">
                <input id="pPStation" class="layui-input"  type="text" name="pPStation" disabled="true" style=" width:650px;height: 76px">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">现居住详细地址</label>
            <div class="layui-input-inline">
                <input id="pPrAddress" class="layui-input"  type="text" name="pPrAddress" disabled="true" style=" width:650px;">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" >通信地址(含邮编)</label>
            <div class="layui-input-inline">
                <input id="pMAddress" class="layui-input"  type="text" name="pMAddress" disabled="true" style=" width:650px;" >
            </div>
        </div>

    </form>
</div>
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
<script>
    layui.use('laydate', function(){
        var laydate = layui.laydate;
    lay('.test-item').each(function(){
        laydate.render({
            elem: this,
            type: 'date',
            theme: 'grid',
            trigger: 'click',
        });
    });
    });
    id=location.href.split("?")[1].split("=")[1]
    alert(id);
    $.get('/postdoctorrinformation/getText/'+id,function (r) {
        $('[name=pName]').val(r.pname)
        $('[name=pNation]').val(r.pnation)
        $('[name=pNationality]').val(r.pnationality)
    },'json')


        layui.extend({
            dtree: 'layui/layui_exts/layui_ext/dtree/dtree'
        }).use(['dtree', 'layer', 'jquery'], function () {
            var dtree = layui.dtree,
                layer = layui.layer,
                $ = layui.jquery;
            dtree.render({
                elem: "#smTree",
                isJump: true,
                dataStyle: "layuiStyle",
                dataFormat: "list",
                response: {message: "msg", statusCode: 0},
                skin: "zdy",
                initLevel: 1,
                iconfont: ["dtreefont", "layui-icon", "iconfont"],
                iconfontStyle: [{
                    snode: {
                        leaf: "dtree-icon-xiangmuxiaoxi",
                        node: {
                            open: "icon-appreciate"
                        }
                    }
                }],
                url: "/dictionary/queryAll"
            });
            $("#smenu").on("click", function () {
                $(this).toggleClass("layui-form-selected");
                $("#smtest").toggleClass("layui-show layui-anim layui-anim-upbit");
            });

            dtree.on("node(smTree)", function (obj) {
                $("#input_sm").val(obj.param.context);
                $("#smenu").toggleClass("layui-form-selected");
                $("#smtest").toggleClass("layui-show layui-anim layui-anim-upbit");
                $("#smId").val(obj.param.nodeId);
            });

            spmTree();
        });

</script>
</body>
</html>